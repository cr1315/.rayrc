# As we want to use this script for multiple shells,
# we don't / can't include shebang here.
# 
# - determine which shell is being used
# - call the corresponding install script


__rayrc_install() {
	local __rayrc_stat_os
	local __rayrc_stat_shell

	local __rayrc_dir_base
	local __rayrc_dir_libs

	if [[ $(ps -o args= -p "$$") == *"bash"* ]]; then
		__rayrc_stat_shell="bash"
		__rayrc_dir_base="$(cd -- "$(dirname "${BASH_SOURCE[0]}")" && pwd -P)"
		__rayrc_dir_libs="${__rayrc_dir_base}/libs"

		source "${__rayrc_dir_base}/bash/install.sh"

	elif [[ $(ps -o args= -p "$$") == *"zsh"* ]]; then
		__rayrc_stat_shell="zsh"
		__rayrc_dir_base=$1
		__rayrc_dir_libs="${__rayrc_dir_base}/libs"

		source "${__rayrc_dir_base}/zsh/install.zsh"

	else
		echo ".rayrc: not supported SHELL by now.."
		return 8
	fi

}

# call with path parameter when zsh
if [[ $(ps -o args= -p "$$") == *"zsh"* ]]; then
	__rayrc_install ${0:A:h}
else
	__rayrc_install
fi

unset -f __rayrc_install
